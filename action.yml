# Basic action information
name: 'Setup Yarn (version berry)'
description: 'An GitHub Action to set up a Yarn environment with version berry.'
author: 'crrashh1542'
branding:
   icon: 'package'
   color: 'blue'

# Parameter to input
inputs:
   fetch-depth:
      description: 'The depth to checkout the source of your repo'
      default: '0'
   node-version:
      description: 'The version of Node.js to be set up'
      default: 'latest'

# Detailed work to do
runs:
   using: 'composite'
   steps:
    - name: ğŸ§ Checkout
      uses: actions/checkout@v4
      with:
         fetch-depth: ${{ inputs.fetch-depth }}

    - name: ğŸ”§ Setup Node.js
      uses: actions/setup-node@v4
      with:
         node-version: ${{ inputs.node-version }}

    - name: ğŸ› ï¸ Setup Yarn
      run: |
         npm install yarn -g
         yarn set version berry

    - name: ğŸ‘€ Setup dependencies
      run: |
         yarn install
